@tailwind base;
@tailwind components;
@tailwind utilities;

/* Museo Sans 500 - Custom font for headings and important text */
@font-face {
  font-family: 'Museo Sans';
  src: url('/fonts/museo-sans-500.otf') format('opentype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
/* Usage: Apply font-museo class or font-family: 'Museo Sans' in CSS */

@layer base {
  :root {
    /* TEMA CLARO - Para modo administrativo eventual */
    --background: 0 0% 96%; /* #F5F5F5 - Blanco Hueso */
    --foreground: 210 13% 16%; /* #212832 - Azul Nocturno */

    --card: 0 0% 100%;
    --card-foreground: 210 13% 16%;

    --popover: 0 0% 100%;
    --popover-foreground: 210 13% 16%;

    --primary: 21 84% 56%; /* #F37321 - Naranja Vibrante */
    --primary-foreground: 0 0% 96%;

    --secondary: 210 13% 16%;
    --secondary-foreground: 0 0% 96%;

    --muted: 210 13% 70%; /* #B3B3B3 - Gris Sutil para texto secundario */
    --muted-foreground: 0 0% 96%;

    --accent: 21 84% 56%; /* #F37321 - Naranja Vibrante - SOLO interactivos */
    --accent-foreground: 0 0% 96%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 96%;

    --border: 210 13% 54%;
    --input: 210 13% 54%;
    --ring: 21 84% 56%;

    --radius: 0.5rem;
  }

  .dark {
    /* TEMA PREMIUM OSCURO - Modo principal del sitio */
    --background: 210 13% 16%; /* #212832 - Azul Nocturno */
    --foreground: 0 0% 96%; /* #F5F5F5 - Blanco Hueso */

    --card: 210 13% 16%; /* #212832 - Azul Nocturno */
    --card-foreground: 0 0% 96%;

    --popover: 210 13% 16%;
    --popover-foreground: 0 0% 96%;

    --primary: 21 84% 56%; /* #F37321 - Naranja Vibrante */
    --primary-foreground: 0 0% 96%;

    --secondary: 210 13% 20%; /* Variación más clara del azul nocturno */
    --secondary-foreground: 0 0% 96%;

    --muted: 210 13% 20%;
    --muted-foreground: 210 13% 70%; /* #B3B3B3 - Gris Sutil para texto secundario */

    --accent: 21 84% 56%; /* #F37321 - Naranja Vibrante - SOLO interactivos */
    --accent-foreground: 0 0% 96%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 96%;

    --border: 210 13% 20%;
    --input: 210 13% 20%;
    --ring: 21 84% 56%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* CLASES UTILITARIAS PREMIUM - SISTEMA TIPOGRÁFICO */
@layer utilities {
  /* Títulos de Impacto (H1) - Bold, Uppercase */
  .display-xl { @apply font-inter font-bold uppercase tracking-wide; font-size: 4rem; line-height: 1.1; }
  .display-lg { @apply font-inter font-bold uppercase tracking-wide; font-size: 3.5rem; line-height: 1.1; }
  .display-md { @apply font-inter font-bold uppercase tracking-wide; font-size: 3rem; line-height: 1.2; }
  .display-sm { @apply font-inter font-bold uppercase tracking-wide; font-size: 2.5rem; line-height: 1.2; }
  
  /* Subtítulos Respirable (H2, H3) - Regular */
  .heading-xl { @apply font-inter font-normal; font-size: 2rem; line-height: 1.3; }
  .heading-lg { @apply font-inter font-normal; font-size: 1.75rem; line-height: 1.3; }
  .heading-md { @apply font-inter font-normal; font-size: 1.5rem; line-height: 1.4; }
  .heading-sm { @apply font-inter font-normal; font-size: 1.25rem; line-height: 1.4; }
  
  /* Cuerpo de Texto - Light con Línea Generosa */
  .body-xl { @apply font-inter font-light; font-size: 1.25rem; line-height: 1.7; }
  .body-lg { @apply font-inter font-light; font-size: 1.125rem; line-height: 1.7; }
  .body-md { @apply font-inter font-light; font-size: 1rem; line-height: 1.7; }
  .body-sm { @apply font-inter font-light; font-size: 0.875rem; line-height: 1.7; }
  
  /* Texto Secundario y Metadatos */
  .caption-lg { @apply font-inter font-normal text-support-gray; font-size: 0.875rem; line-height: 1.5; }
  .caption-md { @apply font-inter font-normal text-support-gray; font-size: 0.75rem; line-height: 1.5; }
  .caption-sm { @apply font-inter font-normal text-support-gray; font-size: 0.625rem; line-height: 1.5; }

  /* JERARQUÍA DE TÍTULOS - ECONOMÍA DEL COLOR */
  .heading-primary { @apply text-bone-white; } /* H1 - Siempre blanco */
  .heading-secondary { @apply text-bone-white; } /* H2, H3 - Siempre blanco */
  .text-secondary { @apply text-subtle-gray; } /* Textos descriptivos */
  .text-meta { @apply text-support-gray; } /* Metadatos y etiquetas */

  /* JERARQUÍA TIPOGRÁFICA PROFESIONAL - ESCALA ESTRICTA */

  /* H1 - Hero Titles: 48px, Bold */
  .hero-title {
    @apply text-5xl md:text-6xl font-bold heading-primary leading-tight tracking-tight;
    text-shadow: 2px 4px 12px rgba(0, 0, 0, 0.8);
  }

  /* H2 - Section Titles: 36px, Bold */
  .section-title {
    @apply text-3xl md:text-4xl font-bold heading-primary leading-tight;
  }

  /* H3 - Component Titles: 24px, Semibold */
  .component-title {
    @apply text-xl md:text-2xl font-semibold heading-primary leading-snug;
  }

  /* H4 - Subtitles: 20px, Medium */
  .subtitle {
    @apply text-lg md:text-xl font-medium heading-primary leading-relaxed;
  }

  /* Body Text: 16px, Regular */
  .body-text {
    @apply text-base leading-relaxed text-secondary;
  }

  /* Secondary Text: 14px, Regular */
  .secondary-text {
    @apply text-sm leading-relaxed text-meta;
  }

  /* ESPACIADO VERTICAL PREMIUM - GENEROSO Y BALANCEADO */
  .section-spacing { @apply py-16 md:py-24; }
  .component-spacing { @apply mb-8 md:mb-12; }
  .element-spacing { @apply mb-4 md:mb-6; }
  
  /* Espaciado Premium */
  .section-premium { @apply py-premium-lg md:py-premium-xl; }
  .container-premium { @apply px-premium-sm md:px-premium-md; }
  .card-premium { @apply p-premium-sm md:p-premium-md; }
  
  /* Background Premium */
  .bg-premium-main { @apply bg-night-blue; }
  .bg-premium-card { @apply bg-night-blue/95 backdrop-blur-sm; }
  .text-premium-primary { @apply text-bone-white; }
  .text-premium-secondary { @apply text-subtle-gray; }
  /* ACCENT PREMIUM - SOLO para elementos interactivos */
  .accent-premium { @apply text-vibrant-orange; } /* Solo botones, enlaces activos */
  .interactive-element { @apply text-vibrant-orange hover:text-vibrant-orange/90 transition-colors; }
  
  /* MICRO-INTERACCIONES PREMIUM */
  
  /* Hover lift effect para elementos interactivos */
  .hover-lift {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  }
  
  /* Smooth scale para imágenes y media */
  .hover-scale {
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .hover-scale:hover {
    transform: scale(1.05);
  }
  
  /* Premium backdrop blur para elementos glassmorphism */
  .premium-blur {
    backdrop-filter: blur(12px) saturate(180%);
    -webkit-backdrop-filter: blur(12px) saturate(180%);
  }
  
  /* Enhanced focus states */
  .focus-ring {
    transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .focus-ring:focus {
    outline: none;
    box-shadow: 0 0 0 2px #F37321, 0 0 0 4px rgba(243, 115, 33, 0.2);
  }
  
  /* Smooth text color transitions */
  .text-transition {
    transition: color 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Premium gradient border animation */
  .gradient-border {
    position: relative;
    background: linear-gradient(90deg, transparent, #F37321, transparent);
    background-size: 200% 100%;
    animation: border-flow 3s ease-in-out infinite;
  }
  
  @keyframes border-flow {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
  
  /* Pulse animation refinada */
  .pulse-premium {
    animation: pulse-premium 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
  
  @keyframes pulse-premium {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
  }

  /* HERO SECTION - ALTA JERARQUÍA VISUAL */
  
  /* Logo dominante - Elemento principal */
  .hero-logo-dominant {
    height: 8rem; /* 128px - 60% más grande que actual */
  }
  @media (min-width: 768px) {
    .hero-logo-dominant {
      height: 10rem; /* 160px - Ultra prominente */
    }
  }
  
  /* Tipografía jerarquizada para hero */
  .hero-title-primary {
    @apply font-inter font-bold uppercase tracking-wider text-bone-white;
    font-size: 3.5rem; /* 56px */
    line-height: 1.1;
    text-shadow: 2px 4px 12px rgba(0, 0, 0, 0.9);
  }
  @media (min-width: 768px) {
    .hero-title-primary {
      font-size: 5rem; /* 80px - Ultra dominante */
      letter-spacing: -0.025em;
    }
  }
  
  .hero-slogan-refined {
    @apply font-inter font-light text-bone-white;
    font-size: 1.75rem; /* 28px */
    line-height: 1.2;
    text-shadow: 1px 2px 8px rgba(0, 0, 0, 0.8);
    max-width: 42rem; /* 672px - Control de línea */
  }
  @media (min-width: 768px) {
    .hero-slogan-refined {
      font-size: 2.5rem; /* 40px - Equilibrado */
      font-weight: 300;
    }
  }
  
  .hero-subtitle-elegant {
    @apply font-inter font-normal;
    font-size: 1rem; /* 16px */
    line-height: 1.5;
    color: rgba(245, 245, 245, 0.8);
    text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.7);
  }
  @media (min-width: 768px) {
    .hero-subtitle-elegant {
      font-size: 1.125rem; /* 18px */
    }
  }
  
  /* CTA mejorado con máxima prominencia */
  .hero-cta-prominent {
    @apply font-inter font-semibold uppercase tracking-wide;
    font-size: 1rem; /* 16px */
    padding: 1rem 2.5rem; /* 16px 40px */
    background: linear-gradient(135deg, #F37321 0%, #ff8c42 100%);
    box-shadow: 0 8px 32px rgba(243, 115, 33, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  @media (min-width: 768px) {
    .hero-cta-prominent {
      font-size: 1.125rem; /* 18px */
      padding: 1.25rem 3rem; /* 20px 48px */
    }
  }
  .hero-cta-prominent:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 12px 40px rgba(243, 115, 33, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.2);
  }
  
  /* Sistema de overlays mejorado */
  .hero-overlay-strong {
    background: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0.4) 0%,
      rgba(0, 0, 0, 0.65) 50%,
      rgba(0, 0, 0, 0.8) 100%
    );
  }
  
  .hero-gradient-accent {
    background: linear-gradient(
      to top,
      rgba(243, 115, 33, 0.9) 0%,
      rgba(243, 115, 33, 0.6) 25%,
      rgba(243, 115, 33, 0.3) 50%,
      transparent 75%
    );
    height: 50vh;
  }
  @media (min-width: 768px) {
    .hero-gradient-accent {
      height: 40vh;
    }
  }
  
  /* Layout grid para control preciso */
  .hero-grid-advanced {
    display: grid;
    grid-template-rows: 1fr auto 1fr;
    grid-template-areas: 
      "header"
      "content" 
      "footer";
    min-height: 100vh;
    padding: 2rem 1rem;
  }
  @media (min-width: 768px) {
    .hero-grid-advanced {
      padding: 3rem 2rem;
    }
  }
  
  .hero-header { grid-area: header; }
  .hero-content { 
    grid-area: content; 
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 2rem;
  }
  @media (min-width: 768px) {
    .hero-content {
      gap: 3rem;
    }
  }
  .hero-footer { 
    grid-area: footer;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;
  }
  
  /* Espaciado premium refinado */
  .premium-spacing-hero {
    margin-top: 2rem;
    margin-bottom: 2rem;
  }
  @media (min-width: 768px) {
    .premium-spacing-hero {
      margin-top: 3rem;
      margin-bottom: 3rem;
    }
  }
  
  /* SISTEMA DE COLORES CON ECONOMÍA - EJEMPLOS CSS */

  /* ✅ CORRECTO - Naranja solo en elementos interactivos */
  button.cta {
    color: #fff;
    background: #F37321;
    transition: background-color 0.3s ease;
  }
  button.cta:hover {
    background: #e86820;
  }
  a.link-clave {
    color: #F37321;
    text-decoration: underline;
  }
  a.link-clave:hover {
    color: #e86820;
  }

  /* ✅ CORRECTO - Jerarquía de títulos consistente */
  h1, h2, h3 {
    color: #F5F5F5; /* Blanco hueso para todos los títulos */
  }
  .text-secundario {
    color: #B3B3B3; /* Gris sutil para descriptos */
  }
  .text-meta {
    color: #8A9199; /* Gris soporte para metadatos */
  }

  /* ❌ EVITAR - Naranja en elementos estáticos */
  /* h1 { color: #F37321; } */ /* No usar naranja en títulos */
  /* .descripcion { color: #F37321; } */ /* No usar naranja en texto descriptivo */

  /* Color system estratégico */
  .brand-accent-selective { color: #F37321; }
  .hero-text-primary { color: #FFFFFF; }
  .hero-text-secondary { color: rgba(245, 245, 245, 0.85); }
  .hero-text-subtle { color: rgba(245, 245, 245, 0.7); }

  /* Hero viewport height - resta la altura del header dinámicamente */
  .hero-viewport-height {
    height: calc(100vh - 5.25rem); /* Móvil: 100vh - header (h-20 = 5rem + border = 0.25rem) */
    min-height: calc(100vh - 5.25rem);
  }
  @media (min-width: 768px) {
    .hero-viewport-height {
      height: calc(100vh - 6.25rem); /* Desktop: 100vh - header (h-24 = 6rem + border = 0.25rem) */
      min-height: calc(100vh - 6.25rem);
    }
  }

  /* ========================================
     ANALYTICS & DATA VISUALIZATION UTILITIES
     ======================================== */

  /* GRID SYSTEMS FOR ANALYTICS */
  .analytics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--widget-gap, 1.5rem);
    padding: 1.5rem;
  }

  .analytics-grid-dense {
    grid-auto-rows: minmax(180px, auto);
  }

  .analytics-grid-responsive {
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .analytics-grid-responsive {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .analytics-grid-responsive {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  @media (min-width: 1440px) {
    .analytics-grid-responsive {
      grid-template-columns: repeat(6, 1fr);
    }
  }

  /* WIDGET LAYOUTS */
  .widget-container {
    @apply bg-night-blue/95 border border-support-gray/20 rounded-2xl p-widget-md backdrop-blur-sm;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .widget-container:hover {
    @apply border-support-gray/40;
    transform: translateY(-1px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  }

  .widget-header {
    @apply flex items-center justify-between mb-4;
  }

  .widget-title {
    @apply text-data-md font-medium text-bone-white;
  }

  .widget-content {
    @apply space-y-3;
  }

  /* KPI & METRICS STYLING */
  .kpi-number {
    font-family: var(--font-mono);
    @apply text-data-xl font-bold text-bone-white tracking-tight;
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.025em;
  }

  .kpi-number-large {
    font-family: var(--font-mono);
    @apply text-data-xxl font-extrabold text-bone-white tracking-tight;
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.05em;
  }

  .kpi-label {
    @apply text-data-sm text-support-gray font-medium uppercase tracking-wide;
  }

  .kpi-description {
    @apply text-data-xs text-subtle-gray;
  }

  /* TREND INDICATORS */
  .trend-positive {
    @apply text-trend-positive;
  }

  .trend-negative {
    @apply text-trend-negative;
  }

  .trend-neutral {
    @apply text-trend-neutral;
  }

  .trend-indicator {
    @apply inline-flex items-center gap-1 text-data-xs font-medium;
  }

  .trend-arrow-up::before {
    content: "↗";
    @apply text-trend-positive font-bold;
  }

  .trend-arrow-down::before {
    content: "↘";
    @apply text-trend-negative font-bold;
  }

  .trend-arrow-neutral::before {
    content: "→";
    @apply text-trend-neutral font-bold;
  }

  /* STATUS INDICATORS */
  .status-success {
    @apply bg-status-success/10 text-status-success border border-status-success/30 rounded-lg px-2 py-1 text-data-xs font-medium;
  }

  .status-warning {
    @apply bg-status-warning/10 text-status-warning border border-status-warning/30 rounded-lg px-2 py-1 text-data-xs font-medium;
  }

  .status-error {
    @apply bg-status-error/10 text-status-error border border-status-error/30 rounded-lg px-2 py-1 text-data-xs font-medium;
  }

  .status-info {
    @apply bg-status-info/10 text-status-info border border-status-info/30 rounded-lg px-2 py-1 text-data-xs font-medium;
  }

  .status-neutral {
    @apply bg-status-neutral/10 text-status-neutral border border-status-neutral/30 rounded-lg px-2 py-1 text-data-xs font-medium;
  }

  /* CHART CONTAINERS */
  .chart-container {
    @apply w-full h-full p-chart-padding;
    min-height: 200px;
  }

  .chart-tooltip {
    @apply bg-night-blue/95 border border-support-gray/30 rounded-lg p-3 shadow-xl backdrop-blur-sm;
    @apply text-data-sm text-bone-white;
  }

  .chart-legend {
    @apply flex flex-wrap gap-4 text-data-xs text-support-gray;
  }

  .chart-legend-item {
    @apply flex items-center gap-2;
  }

  .chart-legend-dot {
    @apply w-3 h-3 rounded-full;
  }

  /* DATA TABLES */
  .data-table {
    @apply w-full border-collapse;
  }

  .data-table th {
    @apply text-data-xs font-medium text-support-gray uppercase tracking-wide py-3 px-4 text-left border-b border-support-gray/20;
  }

  .data-table td {
    @apply text-data-sm text-bone-white py-3 px-4 border-b border-support-gray/10;
  }

  .data-table tr:hover td {
    @apply bg-support-gray/5;
  }

  /* PROGRESS INDICATORS */
  .progress-ring {
    @apply relative inline-flex items-center justify-center;
  }

  .progress-bar {
    @apply w-full bg-support-gray/20 rounded-full overflow-hidden;
  }

  .progress-fill {
    @apply h-2 bg-gradient-to-r from-chart-primary to-chart-secondary transition-all duration-700 ease-out;
  }

  /* LOADING STATES FOR ANALYTICS */
  .analytics-skeleton {
    @apply bg-support-gray/10 rounded-lg animate-pulse;
  }

  .analytics-skeleton-text {
    @apply bg-support-gray/10 rounded h-4 animate-pulse;
  }

  .analytics-skeleton-number {
    @apply bg-support-gray/10 rounded h-8 w-24 animate-pulse;
  }

  /* FILTER PANELS */
  .filter-panel {
    @apply bg-night-blue/80 border border-support-gray/20 rounded-xl p-widget-sm backdrop-blur-sm;
  }

  .filter-section {
    @apply space-y-3;
  }

  .filter-label {
    @apply text-data-sm font-medium text-bone-white;
  }

  .filter-input {
    @apply bg-night-blue/60 border border-support-gray/30 rounded-lg px-3 py-2 text-data-sm text-bone-white;
    @apply focus:border-vibrant-orange focus:ring-1 focus:ring-vibrant-orange/30 transition-colors;
  }

  /* RESPONSIVE ANALYTICS UTILITIES */
  .analytics-responsive-hide-mobile {
    @apply hidden sm:block;
  }

  .analytics-responsive-show-mobile {
    @apply block sm:hidden;
  }

  .analytics-compact-mobile {
    @apply text-data-xs sm:text-data-sm;
  }

  /* ACCESSIBILITY ENHANCEMENTS */
  .analytics-focus-visible:focus-visible {
    @apply outline-2 outline-vibrant-orange outline-offset-2;
  }

  .analytics-screen-reader-only {
    @apply sr-only;
  }

  /* HIGH CONTRAST MODE SUPPORT */
  @media (prefers-contrast: high) {
    .widget-container {
      @apply border-2 border-bone-white/30;
    }

    .kpi-number, .kpi-number-large {
      @apply text-bone-white;
    }

    .chart-tooltip {
      @apply border-2 border-bone-white/50;
    }
  }

  /* REDUCED MOTION SUPPORT */
  @media (prefers-reduced-motion: reduce) {
    .widget-container, .progress-fill, .analytics-skeleton {
      transition: none;
      animation: none;
    }
  }

  /* ========================================
     LEAFLET MAP CUSTOMIZATION
     ======================================== */

  /* Importar estilos base de Leaflet */
  @import 'leaflet/dist/leaflet.css';

  /* CONTENEDOR DEL MAPA */
  .leaflet-container {
    @apply bg-night-blue rounded-xl;
    font-family: 'Inter', sans-serif;
    z-index: 1;
  }

  /* CONTROLES DE ZOOM - Estilo premium */
  .leaflet-control-zoom {
    border: none !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4) !important;
  }

  .leaflet-control-zoom a {
    @apply bg-night-blue/95 text-bone-white border-support-gray/20 !important;
    backdrop-filter: blur(12px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    width: 40px !important;
    height: 40px !important;
    line-height: 40px !important;
    font-size: 20px !important;
    border: 1px solid rgba(138, 145, 153, 0.2) !important;
  }

  .leaflet-control-zoom a:hover {
    @apply bg-vibrant-orange text-bone-white !important;
    border-color: #F37321 !important;
    transform: scale(1.05);
  }

  .leaflet-control-zoom a:first-child {
    border-radius: 8px 8px 0 0 !important;
  }

  .leaflet-control-zoom a:last-child {
    border-radius: 0 0 8px 8px !important;
  }

  /* ATRIBUCIÓN - Estilo discreto pero legible */
  .leaflet-control-attribution {
    @apply bg-night-blue/90 text-support-gray !important;
    font-size: 10px !important;
    padding: 4px 8px !important;
    border-radius: 4px !important;
    backdrop-filter: blur(8px);
  }

  .leaflet-control-attribution a {
    @apply text-subtle-gray !important;
    transition: color 0.2s ease;
  }

  .leaflet-control-attribution a:hover {
    @apply text-vibrant-orange !important;
  }

  /* POPUP - Diseño premium consistente con el sitio */
  .leaflet-popup-content-wrapper {
    @apply bg-night-blue/95 text-bone-white !important;
    border-radius: 12px !important;
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6) !important;
    backdrop-filter: blur(12px);
    border: 1px solid rgba(138, 145, 153, 0.2) !important;
    padding: 0 !important;
  }

  .leaflet-popup-content {
    margin: 0 !important;
    font-family: 'Inter', sans-serif !important;
  }

  .leaflet-popup-tip {
    @apply bg-night-blue/95 !important;
    border: 1px solid rgba(138, 145, 153, 0.2) !important;
  }

  .leaflet-popup-close-button {
    @apply text-support-gray !important;
    font-size: 24px !important;
    padding: 8px 12px !important;
    transition: all 0.2s ease;
  }

  .leaflet-popup-close-button:hover {
    @apply text-vibrant-orange !important;
    transform: scale(1.1);
  }

  /* MARCADORES PERSONALIZADOS */
  .custom-marker-icon {
    background: linear-gradient(135deg, #F37321 0%, #ff8c42 100%);
    border: 3px solid #fff;
    border-radius: 50% 50% 50% 0;
    box-shadow: 0 4px 16px rgba(243, 115, 33, 0.4), 0 0 0 2px rgba(255, 255, 255, 0.1);
    transform: rotate(-45deg);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .custom-marker-icon:hover {
    transform: rotate(-45deg) scale(1.15);
    box-shadow: 0 8px 24px rgba(243, 115, 33, 0.6), 0 0 0 3px rgba(255, 255, 255, 0.2);
  }

  .custom-marker-icon::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 8px;
    height: 8px;
    background: #fff;
    border-radius: 50%;
    transform: translate(-50%, -50%) rotate(45deg);
  }

  /* CLUSTERS - Estilo premium con gradientes */
  .custom-cluster-icon {
    @apply bg-night-blue/95 text-bone-white;
    border: 3px solid #F37321 !important;
    border-radius: 50% !important;
    box-shadow: 0 6px 20px rgba(243, 115, 33, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(8px);
    font-family: 'Inter', sans-serif !important;
    font-weight: 700 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .custom-cluster-icon:hover {
    transform: scale(1.1);
    border-width: 4px !important;
    box-shadow: 0 8px 28px rgba(243, 115, 33, 0.6), 0 0 0 2px rgba(255, 255, 255, 0.2) !important;
  }

  .custom-cluster-icon span {
    color: #F5F5F5 !important;
    font-size: 14px !important;
    font-weight: 700 !important;
  }

  /* Variaciones de tamaño para clusters */
  .marker-cluster-small {
    width: 40px !important;
    height: 40px !important;
  }

  .marker-cluster-small span {
    font-size: 12px !important;
  }

  .marker-cluster-medium {
    width: 50px !important;
    height: 50px !important;
  }

  .marker-cluster-medium span {
    font-size: 14px !important;
  }

  .marker-cluster-large {
    width: 60px !important;
    height: 60px !important;
    border-width: 4px !important;
  }

  .marker-cluster-large span {
    font-size: 16px !important;
  }

  /* ANIMACIONES DEL MAPA */
  .leaflet-marker-icon,
  .leaflet-marker-shadow {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Tiles del mapa - filtro para mejor contraste */
  .leaflet-tile-pane {
    filter: brightness(0.95) contrast(1.05);
  }

  /* RESPONSIVE - Controles táctiles optimizados para móvil */
  @media (max-width: 768px) {
    .leaflet-control-zoom a {
      width: 44px !important;
      height: 44px !important;
      line-height: 44px !important;
      font-size: 22px !important;
    }

    .leaflet-popup-content-wrapper {
      max-width: calc(100vw - 40px) !important;
    }
  }

  /* ACCESIBILIDAD - Focus states mejorados */
  .leaflet-control-zoom a:focus,
  .leaflet-marker-icon:focus {
    outline: 2px solid #F37321 !important;
    outline-offset: 2px !important;
  }

  /* HIGH CONTRAST MODE */
  @media (prefers-contrast: high) {
    .leaflet-popup-content-wrapper {
      border: 2px solid #F5F5F5 !important;
    }

    .custom-cluster-icon {
      border-width: 4px !important;
    }
  }

  /* REDUCED MOTION */
  @media (prefers-reduced-motion: reduce) {
    .leaflet-marker-icon,
    .leaflet-marker-shadow,
    .custom-marker-icon,
    .custom-cluster-icon,
    .leaflet-control-zoom a {
      transition: none !important;
      animation: none !important;
    }
  }
}
